<!-- دکمه‌ها در هدر -->
<a href="#" id="open-register-btn">ثبت‌نام</a>
<a href="#" id="open-login-btn">ورود</a>

<!-- دکمه‌ها در بخش hero -->
<a href="#" class="cta-button" id="open-register-btn-hero">ثبت‌نام</a>
<a href="#" class="cta-button" id="open-login-btn-hero">ورود</a>

<!-- مودال ثبت‌نام -->
<div id="registrationModal" class="modal">
  <div class="modal-content">
    <span class="close-button">&times;</span>
    <h2>ثبت‌نام در سایت</h2>
    <div id="success-message">اطلاعات شما ثبت شد ✅</div>
    <form id="registration-form">
      <div class="form-group">
        <label for="username">نام کاربری (حداقل 4 کاراکتر):</label>
        <input type="text" id="username" name="username" required>
      </div>
      <div class="form-group">
        <label for="password">رمز عبور (حداقل 8 کاراکتر):</label>
        <input type="password" id="password" name="password" required>
      </div>
      <div class="form-group">
        <label for="email">ایمیل:</label>
        <input type="email" id="email" name="email" required>
      </div>
      <div class="form-group">
        <label for="phone">شماره تلفن:</label>
        <input type="tel" id="phone" name="phone" required>
      </div>
      <button type="submit">ثبت اطلاعات</button>
    </form>
  </div>
</div>

<!-- مودال ورود -->
<div id="loginModal" class="modal">
  <div class="modal-content">
    <span class="close-button login-close">&times;</span>
    <h2>ورود به حساب کاربری</h2>
    <form id="login-form">
      <div class="form-group">
        <label for="login-username">نام کاربری:</label>
        <input type="text" id="login-username" name="login-username" required>
      </div>
      <div class="form-group">
        <label for="login-password">رمز عبور:</label>
        <input type="password" id="login-password" name="login-password" required>
      </div>
      <button type="submit">ورود</button>
    </form>
  </div>
</div>

<!-- اسکریپت -->
<script>
  const registrationModal = document.getElementById("registrationModal");
  const loginModal = document.getElementById("loginModal");
  const registerForm = document.getElementById("registration-form");
  const loginForm = document.getElementById("login-form");
  const successMessage = document.getElementById("success-message");

  const openRegisterBtns = document.querySelectorAll("#open-register-btn, #open-register-btn-hero");
  const openLoginBtns = document.querySelectorAll("#open-login-btn, #open-login-btn-hero");
  const closeRegister = document.querySelector(".close-button");
  const closeLogin = document.querySelector(".login-close");

  openRegisterBtns.forEach(btn => {
    btn.onclick = () => {
      registrationModal.style.display = "block";
      registerForm.style.display = "block";
      successMessage.style.display = "none";
      registerForm.reset();
    };
  });

  openLoginBtns.forEach(btn => {
    btn.onclick = () => {
      loginModal.style.display = "block";
      loginForm.reset();
    };
  });

  closeRegister.onclick = () => registrationModal.style.display = "none";
  closeLogin.onclick = () => loginModal.style.display = "none";

  window.onclick = function(event) {
    if (event.target == registrationModal) registrationModal.style.display = "none";
    if (event.target == loginModal) loginModal.style.display = "none";
  };

  registerForm.onsubmit = function(event) {
    event.preventDefault();
    const username = registerForm.username.value.trim();
    const password = registerForm.password.value;
    const email = registerForm.email.value.trim();
    const phone = registerForm.phone.value.trim();

    if (username.length < 4 || password.length < 8 || !email.includes("@") || phone.length < 8) {
      alert("لطفاً اطلاعات را به‌درستی وارد کنید.");
      return;
    }

    registerForm.style.display = "none";
    successMessage.style.display = "block";

    setTimeout(() => {
      document.body.style.transition = "opacity 1s ease";
      document.body.style.opacity = "0";
      setTimeout(() => {
        window.location.href = "download.html";
      }, 1000);
    }, 1000);
  };

  loginForm.onsubmit = function(event) {
    event.preventDefault();
    const username = loginForm["login-username"].value.trim();
    const password = loginForm["login-password"].value;

    if (username.length < 4 || password.length < 8) {
      alert("نام کاربری یا رمز عبور معتبر نیست.");
      return;
    }

    document.body.style.transition = "opacity 1s ease";
    document.body.style.opacity = "0";
    setTimeout(() => {
      window.location.href = "download.html";
    }, 1000);
  };
</script>

